!function(t,e){"function"==typeof define&&define.amd?define([],e(t)):"object"==typeof exports?module.exports=e(t):t.tabby=e(t)}("undefined"!=typeof global?global:this.window||this.global,function(t){"use strict";var e={},n="querySelector"in document&&"addEventListener"in t&&"classList"in document.createElement("_")&&"onhashchange"in t,a,o,r={selectorToggle:"[data-tab]",selectorToggleGroup:"[data-tabs]",selectorContent:"[data-tabs-pane]",selectorContentGroup:"[data-tabs-content]",toggleActiveClass:"active",contentActiveClass:"active",initClass:"js-tabby",callback:function(){}},c=function(t,e,n){if("[object Object]"===Object.prototype.toString.call(t))for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&e.call(n,t[a],a,t);else for(var o=0,r=t.length;r>o;o++)e.call(n,t[o],o,t)},s=function(){var t={},e=!1,n=0,a=arguments.length;"[object Boolean]"===Object.prototype.toString.call(arguments[0])&&(e=arguments[0],n++);for(var o=function(n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e&&"[object Object]"===Object.prototype.toString.call(n[a])?t[a]=s(!0,t[a],n[a]):t[a]=n[a])};a>n;n++){var r=arguments[n];o(r)}return t},l=function(t,e){var n=e.charAt(0),a,o;for("["===n&&(e=e.substr(1,e.length-2),a=e.split("="),a.length>1&&(o=!0,a[1]=a[1].replace(/"/g,"").replace(/'/g,"")));t&&t!==document;t=t.parentNode){if("."===n&&t.classList.contains(e.substr(1)))return t;if("#"===n&&t.id===e.substr(1))return t;if("["===n&&t.hasAttribute(a[0])){if(!o)return t;if(t.getAttribute(a[0])===a[1])return t}if(t.tagName.toLowerCase()===e)return t}return null},i=function(t,e){if(!t.classList.contains(e)){var n=t.querySelector("iframe"),a=t.querySelector("video");if(n){var o=n.src;n.src=o}a&&a.pause()}},u=function(t,e){var n=l(t,e.selectorToggleGroup);if(n){var a=n.querySelectorAll(e.selectorToggle),o=l(t,"li");c(a,function(t){t.classList.remove(e.toggleActiveClass);var n=l(t,"li");n&&n.classList.remove(e.toggleActiveClass)}),t.classList.add(e.toggleActiveClass),o&&o.classList.add(e.toggleActiveClass)}},d=function(t,e){var n=document.querySelector(t);if(n){var a=l(n,e.selectorContentGroup);if(a){var o=a.querySelectorAll(e.selectorContent);c(o,function(t){i(t),t.classList.remove(e.contentActiveClass)}),n.classList.add(e.contentActiveClass)}}};e.toggleTab=function(t,e,n){var o=s(a||r,n||{}),c=document.querySelectorAll(e);u(t,o),d(e,o),o.callback(t,e)};var g=function(){var n=t.location.hash;if(o&&(o.id=o.getAttribute("data-tab-id"),o=null),n){var a=document.querySelector('[data-tab][href*="'+n+'"]');e.toggleTab(a,n)}},f=function(e){var n=l(e.target,a.selectorToggle);n&&n.hash&&n.hash!==t.location.hash&&(o=document.querySelector(n.hash),o&&(o.setAttribute("data-tab-id",o.id),o.id=""))};return e.destroy=function(){a&&(document.documentElement.classList.remove(a.initClass),document.removeEventListener("click",f,!1),t.removeEventListener("hashchange",g,!1),a=null,o=null)},e.init=function(o){n&&(e.destroy(),a=s(r,o||{}),document.documentElement.classList.add(a.initClass),document.addEventListener("click",f,!1),t.addEventListener("hashchange",g,!1),g())},e}),tabby.init();